<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Treino</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .workout-container {
            background-color: #1e1e1e;
            padding: 30px 40px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 500px;
            border: 1px solid #333;
            position: relative; /* Para posicionar o botão de histórico */
        }
        /* NOVO: Estilo para o botão de histórico */
        .history-button {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 12px;
            background-color: #333;
            color: #bb86fc;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        .history-button:hover {
            background-color: #444;
        }
        h1 {
            text-align: center;
            color: #ffffff;
            margin-bottom: 30px;
            font-weight: 600;
        }
        .form-step {
            margin-bottom: 25px;
        }
        .form-step h2 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #bb86fc;
            font-weight: 500;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .option-label {
            background-color: #2c2c2c;
            border: 2px solid #444;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
            display: block;
        }
        .option-label:hover {
            background-color: #3a3a3a;
            border-color: #777;
        }
        .option-label input[type="radio"] {
            display: none;
        }
        .option-label input[type="radio"]:checked + span {
            font-weight: 600;
            color: #ffffff;
        }
        .option-label input[type="radio"]:checked + span::before {
            content: '✔ ';
            color: #bb86fc;
        }
        #generate-btn {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: 600;
            color: #121212;
            background: linear-gradient(90deg, #bb86fc, #a166f7);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s, box-shadow 0.3s;
        }
        #generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(187, 134, 252, 0.3);
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<div class="workout-container">

    <!-- NOVO: Botão para aceder ao histórico -->
    <a th:href="@{/workout/historico}" class="history-button">Ver Histórico</a>

    <h1>Gerador de Treino</h1>
    <form id="workout-form" th:action="@{/workout/generator}" method="post">
        <!-- Etapa 1: Tipo de Treino -->
        <div class="form-step" id="step1">
            <h2>1. Qual tipo de treino quer fazer?</h2>
            <div class="options-container" id="training-type">
                <label class="option-label">
                    <input type="radio" name="tipoDeTreino" value="hibrido" required>
                    <span>Treino Híbrido</span>
                </label>
                <label class="option-label">
                    <input type="radio" name="tipoDeTreino" value="academia" required>
                    <span>Apenas Academia</span>
                </label>
            </div>
        </div>

        <!-- Etapa 2: Divisão do Treino -->
        <div class="form-step hidden" id="step2">
            <h2>2. Qual divisão de treino prefere?</h2>
            <div class="options-container" id="training-split">
                <label class="option-label"><input type="radio" name="divisaoDeTreino" value="upper-lower" required><span>Superior / Inferior</span></label>
                <label class="option-label"><input type="radio" name="divisaoDeTreino" value="full-body" required><span>Full Body</span></label>
            </div>
        </div>

        <!-- Etapa 3: Tempo Disponível -->
        <div class="form-step hidden" id="step3">
            <h2>3. Quanto tempo tem disponível por treino?</h2>
            <div class="options-container" id="training-time">
                <label class="option-label"><input type="radio" name="duracaoDoTreino" value="45" required><span>Até 45 minutos</span></label>
                <label class="option-label"><input type="radio" name="duracaoDoTreino" value="60" required><span>Entre 45 e 60 minutos</span></label>
                <label class="option-label"><input type="radio" name="duracaoDoTreino" value="90" required><span>Mais de 60 minutos</span></label>
            </div>
        </div>

        <!-- Botão Final -->
        <div id="submit-container" class="hidden">
            <button type="submit" id="generate-btn">Gerador</button>
        </div>
    </form>
</div>

<script>
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const step3 = document.getElementById('step3');
    const submitContainer = document.getElementById('submit-container');

    step1.addEventListener('change', () => {
        step2.classList.remove('hidden');
    });

    step2.addEventListener('change', () => {
        step3.classList.remove('hidden');
    });

    step3.addEventListener('change', () => {
        submitContainer.classList.remove('hidden');
    });
</script>

</body>
</html>
